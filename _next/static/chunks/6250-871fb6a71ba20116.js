"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6250],{98793:function(n,t,e){e.d(t,{M:function(){return u}});var o=e(62942),i=e(60152),r=e(89011),l=e(5685),c=e(28388),a=e(33504),s=e(2303);let u=function(n,t){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{networkId:u,ammEnum:d}=(0,o.L)(),f=null!=t?t:u,p=t?(0,a.GP)((0,l.bt)((0,r.pp)(t)).amm[0]):d;return(0,s.Z)(!e&&"UNISWAP_V3"===p&&f?"position-rebalance-history-".concat(p,"-").concat(f,"-").concat(n):null,async()=>{var t;return(0,i.p)(f)&&null!==(t=await c.viem.getPositionRebalanceHistory(p,f,n,(0,i.p)(f)))&&void 0!==t?t:[]})}},83165:function(n,t,e){e.d(t,{B:function(){return x}});var o=e(62942),i=e(24002),r=e(60152),l=e(64953),c=e(9489),a=e(12948),s=e(89011),u=e(28388),d=e(33504),f=e(65195),p=e(16405),h=e(2303),g=e(45796);function x(n){let{amm:t,isChainSupported:e}=(0,o.L)(),{data:r}=(0,g.b)(n),{state:{rawAllTokenPriceMap:x}}=(0,i.jB)(),v=(0,l.mP)(),w=(0,p.useMemo)(()=>(0,d.C7)(t).map(n=>(0,s.$D)(n)),[t]),b=(0,h.Z)(v&&t&&n&&e?"user-all-chains-analytics-".concat(t.name,"-").concat(n):null,()=>(0,c.j)(w,e=>m((0,d.GP)(t),e,n))),I=(0,p.useMemo)(()=>{if(!r||!b.data||!x)return{};let n={};return w.map(t=>{let e=(0,f.keyBy)(r[t],"positionId"),o=x[t],i=u.viem.getNativeCurrency(t);n[t]=(0,f.keyBy)(b.data[t].map(n=>{var t,r,l;let c=e[n.id];return c&&(0,a.Q)(n,c,i.decimals,null==o?void 0:null===(t=o[i.wrapped.address])||void 0===t?void 0:t.price,null==o?void 0:null===(r=o[c.tokenA.address])||void 0===r?void 0:r.price,null==o?void 0:null===(l=o[c.tokenB.address])||void 0===l?void 0:l.price)}).filter(Boolean),"positionId")}),n},[r,w,b.data,x]);return{...b,data:I}}let m=async(n,t,e)=>{if(!(0,r.p)(t))return[];try{let i=[];for(let l=0;;l+=1e3){var o;let c=null!==(o=await u.viem.getPositionAnalytics(n,t,e,l,(0,r.p)(t)))&&void 0!==o?o:[],a=c.length;if(a>0&&(i=i.concat(c)),a<1e3)break}return 0===i.length&&console.log("No analytics data for wallet address ".concat(e)),i}catch(n){return console.error("fetchAnalysicsByChainId",n),[]}}},65391:function(n,t,e){e.d(t,{i:function(){return l}});var o=e(62942),i=e(28388),r=e(2303);function l(n){var t;let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{ammEnum:i,networkId:l,publicClient:a,isChainSupported:s}=(0,o.L)(),u=!e&&"UNISWAP_V3"===i&&s&&l===(null===(t=a.chain)||void 0===t?void 0:t.id);return(0,r.Z)(u?"nft-url-".concat(l,"-").concat(n):null,()=>c(i,l,n,a))}async function c(n,t,e,o){return o.readContract({address:(0,i.getChainInfo)(t).amms[n].nonfungiblePositionManager,abi:i.ICommonNonfungiblePositionManager__factory.abi,functionName:"tokenURI",args:[BigInt(e)]})}},43805:function(n,t,e){e.d(t,{I:function(){return v}});var o=e(79570),i=e(62942),r=e(64953),l=e(48803),c=e(87076),a=e(23609),s=e(98793),u=e(83165),d=e(48747),f=e(65391),p=e(69987),h=e(5685),g=e(16405),x=e(64252);let m=n=>{var t,e,m;let{sm:v,walletAddress:w,currentChain:b,isExplorer:I,onClick:P,...j}=n,{positionId:C,chainId:y,tokenA:Z,tokenB:k,tickSpacing:S,feeTier:A}=j.position,{ammEnum:B}=(0,i.L)(),[M,N]=(0,g.useState)(!1),{isLoading:T,data:L}=(0,u.B)(w),U=(0,r.mP)(),_=(0,r.JU)(),{data:R,isLoading:F}=(0,f.i)(C,!M),{currentTokenPrice:O}=(0,c.P)(b),{positionMap:E}=(0,a.d)(w),{data:V,isLoading:z}=(0,s.M)(C,y,!I||!M),W="SLIPSTREAM"===B?S:A,{data:H}=(0,d.m)(Z.address,k.address,[W],I&&M),D=(0,g.useMemo)(()=>{if(O&&(null==V?void 0:V.length)>0){let n=V[V.length-1];return E[n.tokenId]}},[O,y,V]),Y=null==L?void 0:null===(t=L[y])||void 0===t?void 0:t[C],$=(0,x.C)(j,b,Y,U),q=I&&_?{...$,onClick:n=>N(n),overview:{...(0,l.cH)(j.position,O),nftURL:"UNISWAP_V3"===B?R:void 0,isNFTLoading:"UNISWAP_V3"===B&&F},analytics:Y?{...(0,l.Pu)(j.position,Y)}:void 0,rebalanceHistoryLoading:z,rebalanceHistory:Y?{...(0,l.fo)(j.position,D,null!=V?V:[],O,j.position.chainId)}:void 0,marketPrice:null!==(m=null==H?void 0:null===(e=H[W])||void 0===e?void 0:e.tokenA)&&void 0!==m?m:"0"}:void 0;if(U){if(I)return(0,o.jsx)(h.uB,{...q});if(Y&&!T)return(0,o.jsx)(h.U1,{...$,sm:v,onClick:P})}return(0,o.jsx)(p.U1m,{...$,sm:v,onClick:P})},v=(0,g.memo)(m)},16250:function(n,t,e){e.d(t,{MF:function(){return R},$V:function(){return ni},cr:function(){return H}});var o=e(92228),i=e(79570),r=e(62942),l=e(62883),c=e(6100),a=e(76793),s=e(11141),u=e(2656),d=e(23609),f=e(64928),p=e(78714),h=e(8481),g=e(85464),x=e(43805),m=e(17625),v=e(69987),w=e(65195),b=e.n(w),I=e(16405),P=e(58694),j=e(92321),C=e(44455);function y(){let n=(0,o.Z)(["\n  font-weight: 500;\n  color: ",";\n"]);return y=function(){return n},n}function Z(){let n=(0,o.Z)(["\n  min-width: 158px;\n  height: 42px;\n  gap: ",";\n  color: ",";\n"]);return Z=function(){return n},n}function k(){let n=(0,o.Z)(["\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  gap: ",";\n  margin: "," 0;\n"]);return k=function(){return n},n}function S(){let n=(0,o.Z)(["\n  gap: ",";\n  overflow-y: auto;\n  max-height: 446px;\n  width: 1080px;\n  margin: 24px 0;\n\n  ::-webkit-scrollbar {\n    width: 0;\n  }\n"]);return S=function(){return n},n}function A(){let n=(0,o.Z)(["\n  color: ",';\n  font-weight: 500;\n  height: 20px;\n  text-align: center;\n  font-family: "Roboto Flex";\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px;\n']);return A=function(){return n},n}function B(){let n=(0,o.Z)(["\n  border: none;\n  border-top: 1px solid ",";\n  margin: 32px 0;\n"]);return B=function(){return n},n}let M=(0,P.ZP)(v.OuF).withConfig({componentId:"sc-7eae1aa9-0"})(y(),n=>{let{theme:t}=n;return t.colors.global.text.T1}),N=(0,P.ZP)(v.Yd2).withConfig({componentId:"sc-7eae1aa9-1"})(Z(),n=>{let{theme:t}=n;return t.spacing.md},n=>{let{theme:t}=n;return t.colors.global.textAlt.T1}),T=(0,P.ZP)(v.Bpc).withConfig({componentId:"sc-7eae1aa9-2"})(k(),n=>{let{theme:t}=n;return t.colors.global.text.T2},n=>{let{theme:t}=n;return t.spacing.sm},n=>{let{theme:t}=n;return t.spacing["3xl"]}),L=(0,P.ZP)(v.tuJ).withConfig({componentId:"sc-7eae1aa9-3"})(S(),n=>{let{theme:t}=n;return t.spacing.xl}),U=(0,P.ZP)(v.Bpc).withConfig({componentId:"sc-7eae1aa9-4"})(A(),n=>{let{theme:t}=n;return t.colors.global.text.T2}),_=P.ZP.hr.withConfig({componentId:"sc-7eae1aa9-5"})(B(),n=>{let{theme:t}=n;return t.colors.global.line.Line1}),R=n=>{let{clickNewPosition:t,clickCancel:e,clickNextStep:o}=n,w=(0,P.Fg)(),{ammEnum:y,networkId:Z}=(0,r.L)(),{address:k}=(0,j.m)(),{positionList:S}=(0,d.d)(k),{data:A}=(0,f.w)(),{data:B}=(0,h.F)(),{isLoading:R}=(0,p.p)(),[F,O]=(0,I.useState)(""),{isReady:E}=(0,s.O)(),{selected:V,setSelected:z}=(0,u.v)(g.EM.PID),W=(0,I.useMemo)(()=>S.filter(n=>!n.closed),[S]),H=(0,I.useMemo)(()=>{let n=b().keyBy((0,a.nZ)(null==A?void 0:A[Z],c.w),"nftId");return W.filter(t=>!n[t.positionId])},[W,A]),D=(0,I.useMemo)(()=>H.find(n=>"".concat(n.chainId,"-").concat(n.positionId)===V),[H,V]),Y=(0,I.useMemo)(()=>(0,l.ep)(F,H,null!=B?B:[]),[F,H,B]),$=(0,I.useCallback)(()=>{o(D)},[o,D]);return(0,I.useEffect)(()=>{if(D){var n;null===(n=document.getElementById("Position-".concat((0,l.xi)(D))))||void 0===n||n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}},[D]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(M,{children:"Option 1: Open A New Position"}),(0,i.jsx)(T,{children:(0,i.jsxs)("div",{children:["Open a new ","UNISWAP_V3"===y?"Uniswap":"PancakeSwap"," ","liquidity position and create recurring rebalance strategy with it."]})}),(0,i.jsxs)(N,{color:"primary",onClick:t,disabled:!E,children:[(0,i.jsx)(m.dt,{width:16,height:16,fill:w.colors.global.textAlt.T1}),(0,i.jsx)(v.Bpc,{fontSize:"14px",children:"Open New Position"})]}),(0,i.jsx)(_,{}),(0,i.jsxs)(v.kCb,{justifyContent:"space-between",alignItems:"center",children:[(0,i.jsx)(M,{children:"Option 2: Select An Existing Position"}),(0,i.jsx)(v.MjL,{width:192,placeholder:"Search Position",onChange:n=>O(n.trim())})]}),(0,i.jsx)(L,{children:E?!S||R?(0,i.jsx)(v.KTm,{size:"100%",height:"85px"}):W.length?H.length?Y.length?Y.map(n=>(0,i.jsx)(x.I,{walletAddress:k,position:n,currentChain:Z,showRadio:!0,isSelected:V==="".concat(n.chainId,"-").concat(n.positionId),atStake:(null!=B?B:[]).includes(n.positionIdBN),onClick:z},"Position-".concat(n.positionId,"-").concat(n.chainId))):(0,i.jsx)(U,{children:"Position not found."}):(0,i.jsx)(U,{children:"You don't have any available positions. Please create a new position or delete an existing strategy."}):(0,i.jsx)(U,{children:"You don't have any positions open yet."}):(0,i.jsx)(U,{children:"Connect wallet and select correct network."})}),(0,i.jsx)(v.kCb,{gap:12,justifyContent:"flex-end",children:(0,i.jsx)(C.qo,{width:"250px",confirmText:"Next Step",onCancel:e,onConfirm:$,disableConfirm:!D})})]})};var F=e(70502),O=e(21154),E=e(27481),V=e(28388);function z(){let n=(0,o.Z)(["\n  flex-direction: column;\n  border-radius: ",";\n"]);return z=function(){return n},n}function W(){let n=(0,o.Z)(["\n  color: ",";\n  font-weight: 500;\n"]);return W=function(){return n},n}let H=n=>{let{onCreated:t}=n,[e,o]=(0,I.useState)(void 0),{data:l,isSuccess:c}=(0,O.B)({hash:e}),{ammEnum:a,networkId:s}=(0,r.L)(),{address:u}=(0,j.m)(),d=(0,I.useCallback)(n=>{o(n)},[]),f=(0,F.$)(()=>{let n=V.viem.getMintedPositionIdFromTxReceipt(s,a,l,u);t("".concat(s,"-").concat(n.toString()))});return(0,I.useEffect)(()=>{c&&f()},[c,f]),(0,i.jsxs)(D,{children:[(0,i.jsx)(Y,{children:"Open New Position"}),(0,i.jsx)(E.U,{back:d})]})},D=(0,P.ZP)(v.kCb).withConfig({componentId:"sc-bf7e837c-0"})(z(),n=>{let{theme:t}=n;return t.radii.lg}),Y=(0,P.ZP)(v.OuF).withConfig({componentId:"sc-bf7e837c-1"})(W(),n=>{let{theme:t}=n;return t.colors.global.text.T1});var $=e(80631),q=e(82895),G=e(14122);function J(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 16px 0;\n  width: 1080px;\n  background: none;\n  gap: ",";\n"]);return J=function(){return n},n}function K(){let n=(0,o.Z)(["\n  gap: ",";\n  color: ",";\n"]);return K=function(){return n},n}function Q(){let n=(0,o.Z)(["\n  width: 100%;\n  letter-spacing: 0.0025em;\n  text-align: left;\n  color: ",';\n  font-family: "Dunbar Tall";\n  font-size: 42px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: normal;\n  text-transform: capitalize;\n']);return Q=function(){return n},n}function X(){let n=(0,o.Z)(["\n  justify-content: flex-start;\n  gap: ",";\n"]);return X=function(){return n},n}function nn(){let n=(0,o.Z)(["\n  color: ",";\n"]);return nn=function(){return n},n}function nt(){let n=(0,o.Z)(["\n  color: ",";\n"]);return nt=function(){return n},n}function ne(){let n=(0,o.Z)(["\n  width: 100%;\n  text-align: center;\n  font-weight: 300;\n"]);return ne=function(){return n},n}function no(){let n=(0,o.Z)([""]);return no=function(){return n},n}let ni=n=>{let{children:t,onClickBack:e,isStep2:o}=n,r=o?(0,i.jsxs)(na,{children:[(0,i.jsx)(ns,{children:"Step 2"}),(0,i.jsx)(nu,{children:"Set Up Recurring Rebalance"})]}):(0,i.jsxs)(na,{children:[(0,i.jsx)(ns,{children:"Step 1"}),(0,i.jsx)(nu,{children:"Choose Position"})]});return(0,i.jsx)($._z,{children:(0,i.jsxs)(nr,{isStep2:o,children:[(0,i.jsxs)(nl,{children:[(0,i.jsx)(G.iIr,{onClick:e}),(0,i.jsx)(nc,{children:"Recurring Rebalance Strategy Setup"})]}),(0,i.jsx)(nd,{children:r}),(0,i.jsx)(nf,{children:t})]})})},nr=(0,P.ZP)(v.AXy).withConfig({componentId:"sc-79cea21c-0"})(J(),n=>{let{theme:t}=n;return t.spacing["2xl"]}),nl=(0,P.ZP)(q.t).withConfig({componentId:"sc-79cea21c-1"})(K(),n=>{let{theme:t}=n;return t.spacing.xl},n=>{let{theme:t}=n;return t.colors.global.text.T1}),nc=(0,P.ZP)(v.ayo).withConfig({componentId:"sc-79cea21c-2"})(Q(),n=>{let{theme:t}=n;return t.colors.global.text.T1}),na=(0,P.ZP)(q.k).withConfig({componentId:"sc-79cea21c-3"})(X(),n=>{let{theme:t}=n;return t.spacing.xl}),ns=P.ZP.div.withConfig({componentId:"sc-79cea21c-4"})(nn(),n=>{let{theme:t}=n;return t.colors.global.text.T2}),nu=P.ZP.div.withConfig({componentId:"sc-79cea21c-5"})(nt(),n=>{let{theme:t}=n;return t.colors.global.primary}),nd=(0,P.ZP)(G.OuF).withConfig({componentId:"sc-79cea21c-6"})(ne()),nf=P.ZP.div.withConfig({componentId:"sc-79cea21c-7"})(no())}}]);
//# sourceMappingURL=6250-871fb6a71ba20116.js.map